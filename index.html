<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Calendário Interativo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
<header class="app-header">
    <div class="header-content">
        <div class="header-left">
            <div class="app-title">
                <h1>Calendário de <span id="current-year"></span></h1>
                <div class="header-current-date" id="header-current-date">Carregando...</div>
            </div>
            
            <div class="clock-container">
                <div id="live-clock-container">
                    <div id="live-clock" class="live-clock"></div>
                    <div id="live-date" class="live-date"></div>
                    <select id="timezone-select" class="timezone-select">
                        <option value="America/Sao_Paulo">BRT (Brasília)</option>
                        <option value="America/Manaus">AMT (Manaus)</option>
                        <option value="America/Fortaleza">BRT (Fortaleza)</option>
                        <option value="America/Recife">BRT (Recife)</option>
                        <option value="America/Bahia">BRT (Bahia)</option>
                        <option value="America/Belem">BRT (Belém)</option>
                        <option value="America/Cuiaba">AMT (Cuiabá)</option>
                        <option value="America/Campo_Grande">AMT (Campo Grande)</option>
                        <option value="America/Porto_Velho">AMT (Porto Velho)</option>
                        <option value="America/Rio_Branco">ACT (Acre)</option>
                        <option value="America/Santarem">BRT (Santarém)</option>
                        <option value="America/Maceio">BRT (Maceió)</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="header-actions">
            <button id="theme-toggle" class="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </div>
</header>

<div class="info-cards">
    <div class="info-card">
        <div class="info-card-icon">
            <i class="fas fa-calendar-day"></i>
        </div>
        <div class="info-card-content">
            <div class="info-card-title">HOJE</div>
            <div class="info-card-value" id="current-date-display">Carregando...</div>
            <div class="info-card-subtitle">
                <i class="fas fa-clock"></i>
                <span id="current-time-display">--:--:--</span>
            </div>
        </div>
    </div>
    
    <div class="info-card holiday-card">
        <div class="info-card-icon">
            <i class="fas fa-flag"></i>
        </div>
        <div class="info-card-content">
            <div class="info-card-title">PRÓXIMO FERIADO</div>
            <div class="info-card-value" id="next-holiday-display">Carregando...</div>
            <div class="info-card-subtitle" id="next-holiday-days">
                <i class="fas fa-calendar-alt"></i>
                <span>-</span>
            </div>
        </div>
    </div>
    
    <div class="info-card">
        <div class="info-card-icon">
            <i class="fas fa-chart-line"></i>
        </div>
        <div class="info-card-content">
            <div class="info-card-title">ANO DECORRIDO</div>
            <div class="info-card-value" id="year-progress-display">Carregando...</div>
            <div class="info-card-subtitle" id="year-progress-days">
                <i class="fas fa-calendar-check"></i>
                <span>-</span>
            </div>
            <div class="year-progress">
                <div class="year-progress-fill" id="year-progress-bar"></div>
            </div>
        </div>
    </div>
</div>

<div class="controls">
    <button id="today-btn" class="today-btn">
        <i class="fas fa-calendar-day"></i> Hoje
    </button>

    <button id="season-toggle">
        <i class="fas fa-leaf"></i> Estações
    </button>
    
    <!-- Campo de pesquisa de mês/ano -->
    <div class="month-year-search">
        <div class="search-input-group">
            <select id="search-month" class="search-select">
                <option value="">Mês</option>
                <option value="0">Janeiro</option>
                <option value="1">Fevereiro</option>
                <option value="2">Março</option>
                <option value="3">Abril</option>
                <option value="4">Maio</option>
                <option value="5">Junho</option>
                <option value="6">Julho</option>
                <option value="7">Agosto</option>
                <option value="8">Setembro</option>
                <option value="9">Outubro</option>
                <option value="10">Novembro</option>
                <option value="11">Dezembro</option>
            </select>
            
            <select id="search-year" class="search-select">
                <option value="">Ano</option>
                <!-- Os anos serão preenchidos via JavaScript -->
            </select>
            
            <button id="search-go" class="search-btn" title="Ir para mês/ano">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
    
    <button id="event-list-toggle">
        <i class="fas fa-list"></i> Compromissos
    </button>
    <button id="refresh-holidays" style="display: none;">
        <i class="fas fa-sync-alt"></i> Atualizar Feriados
    </button>
</div>

        <div class="main-content">
            <section class="calendar-section">
                <div class="calendar-container">
                    <button onclick="limparLocalStorage()" class="btn-limpar-mobile" title="Limpar dados salvos">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                    <header class="calendar-header">
                        <button id="prev">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <h1 id="month-year"></h1>
                        <button id="next">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </header>

                    <div class="calendar-content" id="calendar-content"></div>

                    <div class="calendar-loading" id="calendar-loading">
                        <div class="calendar-loading-spinner"></div>
                        <div class="calendar-loading-text" id="calendar-loading-text">Atualizando...</div>
                    </div>

                    <div class="season-legend" id="season-legend">
                        <div class="legend-season-item">
                            <div class="legend-season-dot spring"></div>
                            <span>Primavera</span>
                        </div>
                        <div class="legend-season-item">
                            <div class="legend-season-dot summer"></div>
                            <span>Verão</span>
                        </div>
                        <div class="legend-season-item">
                            <div class="legend-season-dot autumn"></div>
                            <span>Outono</span>
                        </div>
                        <div class="legend-season-item">
                            <div class="legend-season-dot winter"></div>
                            <span>Inverno</span>
                        </div>
                    </div>
                    
                   <div class="indicators-legend">
                        <div class="legend-item">
                            <div class="legend-dot holiday"></div>
                            <span>Feriado Nacional</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot facultative"></div>
                            <span>Ponto Facultativo</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot religious"></div>
                            <span>Feriado Religioso</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot local"></div>
                            <span>Feriado Local</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot personal"></div>
                            <span>Pessoal</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot work"></div>
                            <span>Trabalho</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot health"></div>
                            <span>Saúde</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot leisure"></div>
                            <span>Lazer</span>
                        </div>
                    </div>
                </div>
            </section>

         <section class="event-list-section">
    <div class="event-list-container">
        <div class="mobile-event-list-header">
            <h3><i class="fas fa-tasks"></i> Compromissos do Mês</h3>
            <button id="mobile-event-toggle" class="mobile-toggle-btn">
                <i class="fas fa-eye-slash"></i> Ocultar
            </button>
        </div>
        
        <h3 class="desktop-title"><i class="fas fa-tasks"></i> Compromissos do Mês</h3>
        
        <div class="event-list-header">
            <div class="event-stats">
                <div class="stat holiday-stat">
                    <div class="stat-dot" style="background: var(--holiday-color);"></div>
                    <span id="holiday-count">0</span> Feriados
                </div>
                <div class="stat event-stat">
                    <div class="stat-dot" style="background: var(--personal-event);"></div>
                    <span id="event-count">0</span> Compromissos
                </div>
            </div>
        </div>
        
        <div class="loading" id="holidays-loading">
            <div class="loading-spinner"></div>
            <p>Carregando feriados...</p>
        </div>
        
        <ul id="event-list"></ul>
    </div>
</section>
        </div>

        <div class="date-consultant">
            <div class="consultant-header">
                <h3><i class="fas fa-calendar-alt"></i> Consultor de Data</h3>
                <p>Descubra em qual dia da semana cai qualquer data</p>
            </div>
            
            <div class="consultant-content">
                <div class="input-group">
                    <label for="consultant-date"><i class="far fa-calendar"></i> Digite uma data:</label>
                    <div class="input-with-button">
                        <input type="date" id="consultant-date" value="">
                        <button id="consultant-check">
                            <i class="fas fa-search"></i> Consultar
                        </button>
                    </div>
                </div>
                
                <div class="consultant-result" id="consultant-result">
                    <div class="result-placeholder">
                        <i class="far fa-calendar-check"></i>
                        <p>O resultado será exibido aqui</p>
                    </div>
                </div>
                
                <div class="quick-dates">
                    <button class="quick-date-btn" data-days="0">Hoje</button>
                    <button class="quick-date-btn" data-days="7">Daqui 1 semana</button>
                    <button class="quick-date-btn" data-days="30">Daqui 1 mês</button>
                    <button class="quick-date-btn" data-days="365">Daqui 1 ano</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="modal">
        <div class="modal-content">
            <h2 id="modal-date"></h2>
            
            <div class="form-group">
                <label for="event-input">Descrição do compromisso:</label>
                <input type="text" id="event-input" placeholder="Ex: Reunião com equipe">
            </div>
            
            <div class="form-group">
                <label>Categoria:</label>
                <div class="event-category-selector">
                    <div class="category-option" data-category="personal">
                        <input type="radio" id="category-personal" name="category" value="personal" checked>
                        <label for="category-personal">
                            <div class="category-color"></div>
                            <span>Pessoal</span>
                        </label>
                    </div>
                    <div class="category-option" data-category="work">
                        <input type="radio" id="category-work" name="category" value="work">
                        <label for="category-work">
                            <div class="category-color"></div>
                            <span>Trabalho</span>
                        </label>
                    </div>
                    <div class="category-option" data-category="health">
                        <input type="radio" id="category-health" name="category" value="health">
                        <label for="category-health">
                            <div class="category-color"></div>
                            <span>Saúde</span>
                        </label>
                    </div>
                    <div class="category-option" data-category="leisure">
                        <input type="radio" id="category-leisure" name="category" value="leisure">
                        <label for="category-leisure">
                            <div class="category-color"></div>
                            <span>Lazer</span>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="recurrence-toggle">
                <label for="recurrence-toggle">Evento recorrente</label>
            </div>
            
            <div class="recurrence-options" id="recurrence-options">
                <label>Tipo de recorrência:</label>
                <div class="recurrence-type-selector">
                    <div class="recurrence-option">
                        <input type="radio" id="recurrence-daily" name="recurrence-type" value="daily">
                        <label for="recurrence-daily">Diário</label>
                    </div>
                    <div class="recurrence-option">
                        <input type="radio" id="recurrence-weekly" name="recurrence-type" value="weekly">
                        <label for="recurrence-weekly">Semanal</label>
                    </div>
                    <div class="recurrence-option">
                        <input type="radio" id="recurrence-monthly" name="recurrence-type" value="monthly">
                        <label for="recurrence-monthly">Mensal</label>
                    </div>
                    <div class="recurrence-option">
                        <input type="radio" id="recurrence-yearly" name="recurrence-type" value="yearly">
                        <label for="recurrence-yearly">Anual</label>
                    </div>
                </div>
                
                <div class="weekly-options" id="weekly-options">
                    <label>Repetir nos dias:</label>
                    <div class="days-of-week">
                        <div class="day-of-week-option">
                            <input type="checkbox" id="day-sun" value="0">
                            <label for="day-sun">D</label>
                        </div>
                        <div class="day-of-week-option">
                            <input type="checkbox" id="day-mon" value="1">
                            <label for="day-mon">S</label>
                        </div>
                        <div class="day-of-week-option">
                            <input type="checkbox" id="day-tue" value="2">
                            <label for="day-tue">T</label>
                        </div>
                        <div class="day-of-week-option">
                            <input type="checkbox" id="day-wed" value="3">
                            <label for="day-wed">Q</label>
                        </div>
                        <div class="day-of-week-option">
                            <input type="checkbox" id="day-thu" value="4">
                            <label for="day-thu">Q</label>
                        </div>
                        <div class="day-of-week-option">
                            <input type="checkbox" id="day-fri" value="5">
                            <label for="day-fri">S</label>
                        </div>
                        <div class="day-of-week-option">
                            <input type="checkbox" id="day-sat" value="6">
                            <label for="day-sat">S</label>
                        </div>
                    </div>
                </div>
                
                <div class="monthly-options" id="monthly-options">
                    <label>Repetir:</label>
                    <select id="monthly-option">
                        <option value="same-day">No mesmo dia do mês</option>
                        <option value="same-weekday">No mesmo dia da semana</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="recurrence-end">Terminar em:</label>
                    <select id="recurrence-end">
                        <option value="never">Nunca</option>
                        <option value="count">Após X ocorrências</option>
                        <option value="date">Em uma data específica</option>
                    </select>
                    <input type="number" id="recurrence-count" placeholder="Número de ocorrências" style="display: none; margin-top: 8px;">
                    <input type="date" id="recurrence-end-date" style="display: none; margin-top: 8px;">
                </div>
            </div>
            
            <div class="modal-actions">
                <button id="save">Salvar</button>
                <button id="delete">Excluir</button>
                <button id="close">Cancelar</button>
            </div>
        </div>
    </div>

<button onclick="limparLocalStorage()" class="btn-limpar">
    <i class="fas fa-trash-alt"></i> Limpar Dados Salvos
</button>

    <div class="modal" id="holiday-modal">
        <div class="holiday-modal-content">
            <h2><i class="fas fa-flag"></i> Feriado</h2>
            <div class="holiday-info" id="holiday-info">
                <div class="holiday-icon" id="holiday-icon">
                    <i class="fas fa-flag"></i>
                </div>
                <div class="holiday-details">
                    <div class="holiday-name" id="holiday-modal-name"></div>
                    <div class="holiday-date" id="holiday-modal-date"></div>
                </div>
            </div>
            <div class="holiday-note">
                <i class="fas fa-info-circle"></i>
                Feriados não podem ser editados ou excluídos.
            </div>
            <div class="modal-actions">
                <button id="holiday-modal-add-event" class="add-event-btn">
                    <i class="fas fa-plus-circle"></i> Adicionar Compromisso
                </button>
                <button id="holiday-modal-close">Fechar</button>
            </div>
        </div>
    </div>

    <div class="modal" id="confirm-modal">
        <div class="modal-content">
            <h2 id="confirm-title"><i class="fas fa-exclamation-triangle"></i> Confirmação</h2>
            <div class="form-group">
                <p id="confirm-message">Tem certeza que deseja prosseguir?</p>
            </div>
            <div class="modal-actions">
                <button id="confirm-yes" class="confirm-btn" style="background: var(--primary); color: white;">Sim</button>
                <button id="confirm-no" class="confirm-btn" style="background: var(--event-list-bg); color: var(--text);">Não</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>